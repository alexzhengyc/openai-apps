# Repository Guidelines

## Project Structure & Module Organization
Application code lives in `src`, organized by widget (`pizzaz`, `pizzaz-albums`, `solar-system`, `todo`) and shared utilities (`utils`, `types.ts`, `use-*` hooks). Static assets generated by the build land in `assets`. Server-side samples for local data mocking reside in `pizzaz_server_node`, `pizzaz_server_python`, and `solar-system_server_python`. Build and tooling scripts such as `build-all.mts`, `dev-all.mts`, and Tailwind/TypeScript configs sit at the repository root.

## Build, Test, and Development Commands
- `pnpm install` — hydrate dependencies; always use `pnpm` to stay aligned with the lockfile.
- `pnpm dev` — start the Vite dev server against `vite.config.mts` for widget development.
- `pnpm run dev:host` — launch the host shell defined in `vite.host.config.mts` to embed widgets.
- `pnpm build` — run the multi-widget bundler in `build-all.mts`, producing the `assets` bundle.
- `pnpm run tsc` / `pnpm run tsc:app` — type-check the full workspace or app-only configuration before pushing.
- `pnpm run serve` — serve the built assets locally on port 4444 for smoke testing.

## Coding Style & Naming Conventions
The UI uses React (JSX/TSX) with TypeScript-first utilities. Follow the existing patterns: functional components in PascalCase (`SolarSystemCanvas`), hooks prefixed with `use` and saved as kebab-case files (`use-widget-state.ts`), and resource modules in lowercase directories. Keep 2-space indentation, double quotes for strings, and favor immutability helpers already in use (`immer`, `clsx`). Run Tailwind classes through `index.css` utilities rather than ad hoc inline styles whenever possible.

## Testing Guidelines
No automated test runner is currently wired. Before submitting changes, run `pnpm run tsc` and exercise affected widgets through `pnpm dev` (or `pnpm run serve` for built assets) to confirm critical flows. When you introduce automated coverage, prefer colocated `*.test.tsx` files using Vitest/React Testing Library, document any new command in this guide, and keep mock data beside the widget directory for discoverability.

## Commit & Pull Request Guidelines
Commits follow concise, present-tense messages (`add annotations false`, `update README`). Keep subjects under 70 characters, start with an imperative verb, and avoid trailing punctuation. For pull requests, include: a clear summary of the behavior change, manual verification notes (commands run, scenarios exercised), related issue links, and UI captures or GIFs when visual changes touch components in `src/pizzaz*` or `src/solar-system`. Flag breaking changes or dependency updates in the PR description.
